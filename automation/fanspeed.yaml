# - alias: "Fan direction controller out"
#   trigger:
#     - platform: time_pattern
#       minutes: "/30"
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: 20
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_co2
#       above: 1300
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_humidity
#       above: 75
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: input_boolean.bedroom_window
#       state: 'off'
#     - condition: state
#       entity_id: timer.fan_direction_timer
#       state: idle
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       below: sensor.netatmo_ewaldsvej_kokken_outdoor_temperature
#     - condition: or
#       conditions:
#         - condition: numeric_state
#           entity_id: sensor.netatmo_ewaldsvej_kokken_outdoor_temperature
#           above: 20
#         - condition: numeric_state
#           entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_co2
#           above: 1300
#         - condition: numeric_state
#           entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_humidity
#           above: 75
#   action:
#     - service: timer.start
#       entity_id: timer.fan_direction_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_direction
#         option: 'out'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_direction
#         option: 'in'


# - alias: "Fan direction controller in"
#   trigger:
#     - platform: time_pattern
#       minutes: "/30"
#     - platform: event
#       event_type: timer.finished
#       event_data:
#         entity_id: timer.fan_direction_timer
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: timer.fan_direction_timer
#       state: idle
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: sensor.netatmo_ewaldsvej_kokken_outdoor_temperature
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: 20
#   action:
#     - service: timer.start
#       entity_id: timer.fan_direction_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_direction
#         option: 'in'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_direction
#         option: 'out'


# - alias: "Fan speed controller 1"
#   trigger:
#     - platform: state
#       entity_id: input_boolean.sleep
#       to: 'on'
#     - platform: time_pattern
#       minutes: "/10"
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_humidity
#       below: 60
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       below: 22
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_co2
#       below: 1200
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: timer.fan_speed_timer
#       state: idle
#     - condition: state
#       entity_id: timer.sleep
#       state: idle
#     - condition: template
#       value_template: "{{ not is_state('input_select.bedroom_fan_speed', '01') }}"
#   action:
#     - service: timer.start
#       entity_id: timer.fan_speed_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_speed
#         option: '01'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_speed
#         option: '01'


# - alias: "Fan speed controller 2"
#   trigger:
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_co2
#       above: 1200
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_humidity
#       above: 60
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       below: 25
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: input_boolean.bedroom_window
#       state: 'off'
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: 22
#       below: 25
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: sensor.netatmo_ewaldsvej_kokken_outdoor_temperature
#     - condition: template
#       value_template: "{{ not is_state('input_select.bedroom_fan_speed', '02') }}"
#     - condition: or
#       conditions:
#         - condition: state
#           entity_id: timer.fan_speed_timer
#           state: idle
#         - condition: state
#           entity_id: timer.sleep
#           state: idle
#   action:
#     - service: timer.start
#       entity_id: timer.fan_speed_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_speed
#         option: '02'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_speed
#         option: '02'


# - alias: "Fan speed controller 3"
#   trigger:
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_co2
#       above: 1300
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_humidity
#       above: 75
#     - platform: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: 25
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: input_boolean.bedroom_window
#       state: 'off'
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: 25
#     - condition: numeric_state
#       entity_id: sensor.netatmo_ewaldsvej_kitchen_bedroom_temperature
#       above: sensor.netatmo_ewaldsvej_kokken_outdoor_temperature
#     - condition: template
#       value_template: "{{ not is_state('input_select.bedroom_fan_speed', '03') }}"
#     - condition: or
#       conditions:
#         - condition: state
#           entity_id: timer.fan_speed_timer
#           state: idle
#         - condition: state
#           entity_id: timer.sleep
#           state: idle
#   action:
#     - service: timer.start
#       entity_id: timer.fan_speed_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_speed
#         option: '03'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_speed
#         option: '03'


# - alias: "Fan speed controller 1 night mode"
#   trigger:
#     - platform: state
#       entity_id: binary_sensor.kitchen_motion_sensor_1_motion
#       to: 'on'
#     - platform: state
#       entity_id: binary_sensor.office_motion_sensor_1_motion
#       to: 'on'
#   condition:
#     - condition: state
#       entity_id: switch.bedroom_fan
#       state: 'on'
#     - condition: state
#       entity_id: input_boolean.bedroom_window
#       state: 'off'
#     - condition: state
#       entity_id: input_boolean.sleep
#       state: 'on'
#     - condition: template
#       value_template: "{{ not is_state('input_select.bedroom_fan_speed', '01') }}"
#   action:
#     - service: timer.start
#       entity_id: timer.fan_speed_timer
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.bedroom_fan_speed
#         option: '01'
#     - service: input_select.select_option
#       data:
#         entity_id: input_select.livingroom_fan_speed
#         option: '01'
